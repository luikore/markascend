<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="chrome=1" http-equiv="X-UA-Compatible" /><title>Markascend</title><link href="style.css" rel="stylesheet" /><script src="scale.fix.js"></script><meta content="width=device-width, initial-scale=1, user-scalable=no" name="viewport" /><!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--></head><body><div class="wrapper"><header><h1></h1></header><section><p></p><h2>Design principles</h2><ul><li>A simpler <i>Markdown</i> should be better.</li><li>Since a markup language usually need to process several different syntaces in one article, language composition becomes important in syntax design.</li><li>TeX macro syntax is nearly perfect for extending the language, but not very visual intuitive when there are too much backslashes and bracers.</li><li>Layout-based grammar (indentation sensitive) shows a cleaner way for language composition and cleaning up macros.</li></ul><br><p></p><h2>Inline elements</h2><p><i>italic</i></p><pre><code class="highlight">*italic*</code></pre><p><b>bold</b></p><pre><code class="highlight">**bold**</code></pre><p>Italic and bold elements can interpolate</p><pre><code class="highlight">***bold and italic*bold**</code></pre><p><code class="highlight">code</code> suject to the same rule as in markdown, no escape chars</p><pre><code class="highlight">`code`
``to include "`", use more backticks as delimiter``
`` ` space before and after to disambig backtick number ``</code></pre><p><code class="math">math</code>, inside which <code class="highlight">\\</code> and <code class="highlight">\$</code> are treated as atomic elements, no escape chars</p><pre><code class="highlight">$math$
$\\\$$ &lt;- the content is parsed to latex processer as '\\\$'
$\\$$ &lt;- NOTE this is a math elem with a pending dollar</code></pre><p>Link:</p><pre><code class="highlight">url in lexical parens: [a](example.com/use/\\/for/backslash/and/\)/for/right/paren)
url in recursive braces: [a]{example.com/allow/{nested{braces}}/and/(parens)/in/url}
no need to escape backslashes in braces: [a]{file:\\\C:\windows}
link to anchor: [a](#anchor)</code></pre><p>Footnotes:</p><pre><code class="highlight">[.](this is shown in footnote and replaced by a number)
[.*](this is shown in footnote and replaced by the acronym)</code></pre><p>Using already defined footnote (&quot;one more dot to use&quot;):</p><pre><code class="highlight">[:1]
[:link by acronym]</code></pre><p>Except math and code, inline elements can be nested.</p><p>By default, text starting with <code class="highlight">http://</code>, <code class="highlight">https://</code> or <code class="highlight">mailto://</code> will be auto-linked, you can change supported protocols or disable all with compile options.</p><p>NOTE: Not very different from markdown here, just less, math and footnotes added. Images are too complex for a simple syntax, it is made into a macro.</p><h2>Headers</h2><pre><code class="highlight">h1 title
h2#anchor-name title</code></pre><p>NOTE: Anchors are disabled in sandbox mode.</p><h2>Lists</h2><p><code class="highlight">-</code> is the bullet for unordered list</p><pre><code class="highlight">- an entry
- another entry</code></pre><p><code class="highlight">+</code> is the bullet for ordered list</p><pre><code class="highlight">+ entry 1
+ entry 2</code></pre><h2>Quote</h2><p>Just one <code class="highlight">&gt;</code> is enough for a quote containing many lines (NOTE: use the similar rule as code block and allow quoter name?)</p><pre><code class="highlight">&gt; You
  can
  input
  new line
  on twitter
  now</code></pre><h2>Escape characters</h2><pre><code class="highlight">\h3
\\
\$
\*
\[
\%
\@
\#
...</code></pre><p>All HTML4 entities are supported</p><pre><code class="highlight">&amp;amp;
&amp;#2382;
&amp;#x003F;</code></pre><h2>Built-in macros</h2><p>The following macros explains themselves:</p><pre><code class="highlight">\del{deleted}
\underline{underline}
\sub{subscript}
\sup{supscript}
\img{hello/a.png alt="an image" href="a.b.c"}</code></pre><p>Unlike in <i>Mardown</i>, all html tags in <i>Markascend</i> are escaped. If you write</p><pre><code class="highlight">&lt;div&gt;&lt;/div&gt;</code></pre><p>You get HTML like this</p><pre><code class="highlight"><span class="ni">&amp;lt;</span>div<span class="ni">&amp;gt;&amp;lt;</span>/div<span class="ni">&amp;gt;</span></code></pre><p>To put HTML in, you can use the <code class="highlight">\html</code> macro</p><pre><code class="highlight">\html{&lt;hr&gt;}</code></pre><p><i>Slim</i> is a template engine which makes html much cleaner:</p><pre><code class="highlight">\slim{a href="/" Home}</code></pre><p>Note that with <code class="highlight">\slim</code>, you can embed a bunch of other template engines, or write ruby logic, or do all kinds of evil things:</p><pre><code class="highlight">\slim
  - 3.times do
    markdown:
      # h1 hello world
  sass:
    h1
      color: red
  coffee:
    alert "hello world"</code></pre><p>To build a table from a CSV</p><pre><code class="highlight">\csv
  name,type
  "Ahri",Mage
  "Miss Fortune",DPS</code></pre><p>A table from CSV, without header</p><pre><code class="highlight">\headless_csv
  "Ahri",Mage
  "Miss Fortune",DPS</code></pre><p>For block-styled math</p><pre><code class="highlight">\latex
  \begin{align} \\
  &amp; \rm{MathJax}\ \LaTeX \ \rm{Example} \\ \\
  \end{align}</code></pre><p><code class="highlight">\options</code> is a special macro. The content <i>YAML</i> is not processed by <i>Markascend</i>, but retrievable with API. This is designed for blogger generators: you can put metadata inside the document.</p><pre><code class="highlight">\options
  tags: [markascend readme]</code></pre><p>To change default code syntax highliter (See <a href="#syn-hi-macros">below</a> for details]:</p><pre><code class="highlight">\hi(rb)
\hi(none)</code></pre><h2>Notes on macros</h2><p>Macro name is case sensitive, starts with a word-character but not digit, and contains no symbols or punctuations. The rule expressed in (Onigmo) regexp is <code class="highlight">(?!\d)\w+</code>. For example, <code class="highlight">你2</code> is valid name, but <code class="highlight">2你</code> is invalid.</p><p>Macros can be of inline form (<code class="highlight">\macro{content}</code>) or block form (<code class="highlight">\macro</code> and the indented block in following lines is the content of the macro).</p><p>Inline macros can use some different delimiters for convinience, allowed ones are: <code class="highlight">\macro(content)</code> and <code class="highlight">\macro{content}</code>.</p><p>In the form <code class="highlight">\macro(content)</code>, the content is parsed by lexical rule. The parser handles and only handles 2 escape chars: <code class="highlight">\\</code> and <code class="highlight">\)</code>, very much like single quoted string in Ruby.<br>Example: <code class="highlight">\macro(\ and \\ are both single-backslash. nest: (\))</code></p><p>In the form <code class="highlight">\macro{content}</code>, you don&#39;t escape chars in the content, and can put in recursively nested braces. When you need to put an unmatched <code class="highlight">{</code> or <code class="highlight">}</code> in the content, use the previous form.<br>Example: <code class="highlight">\macro{\\ is two backslashes. nest: {}}</code></p><p>Design NOTE: There are actual very few symbols left for us... for example <code class="highlight">[]</code>, <code class="highlight">$$</code>, <code class="highlight">|</code> may confuse with link or math or code elements. Symbols like <code class="highlight">&quot;</code>, <code class="highlight">&#39;</code>, <code class="highlight">()</code>, <code class="highlight">&lt;&gt;</code> are not good either, because they are common when composing an article.</p><p>User NOTE:</p><ul><li>The parsing rules for <code class="highlight">(content)</code> and <code class="highlight">{content}</code> are the same as in links.</li><li>Only 1 block-style macro name is allowed inside a line.</li><li>The basic parsing unit is a line and a block, every parsing starts with this unit --- so don&#39;t hand-add space indentations to paragraphs, let css do it.</li></ul><br><h2>Charting macros</h2><p>You need to install <a href="http://graphviz.org/">graphviz</a> first.</p><pre><code class="highlight">\dot
  digraph G{
    main -&gt; parse;
  }</code></pre><h2>Popular-company macros</h2><p>This is the transient part but provides some convienience. The list will change if some of them dies before <i>Markascend</i>.</p><p>To generate a twitter or weibo link</p><pre><code class="highlight">\twitter(@night_song)
\twitter(#HotS)
\weibo(@yavaeye)</code></pre><p>To generate a wiki link (though wiki is an organization, not a company...)</p><pre><code class="highlight">\wiki{ruby(programing_language)}</code></pre><p>Embed gist</p><pre><code class="highlight">\gist(12321)</code></pre><p>Embed video (currently should recognize youtube, vimeo and niconico links, the size is a problem)</p><pre><code class="highlight">\video(500x400 http://www.youtube.com/watch?v=TGPvtlnwH6E)
\video(500x400 http://www.youtube.com/watch?v=TGPvtlnwH6E)
\video(500x400 http://www.youtube.com/watch?v=TGPvtlnwH6E)</code></pre><h2 id="syn-hi-macros">Syntax hilite macros and code blocks</h2><p>Inline code can also have syntax hiliter</p><pre><code class="highlight">\hi(rb)`str.size` in ruby is equivalent to \hi(objc)`str.length` in objc
|
  this part is also hilited in objc
\hi(none)`\hi(none)` removes hilite state in document
|
  this part also has no syntax hilite</code></pre><p>To specify syntax in block form (this won&#39;t change default syntax):</p><pre><code class="highlight">|rb
  puts 'hello world'</code></pre><h2>Combining macro blocks, lists and quotes</h2><p>Lists and quotes are parsed as recursive block elements.<br>If the inside contains macros, need to indent more for the content of the macro:</p><pre><code class="highlight">&gt; Though the \music macro..
    1232. 1232. 1232.
  is not defined.</code></pre><p>Another nesting example:</p><pre><code class="highlight">- an entry
  contains an ordered list
  + entry \latex
      \mathbb{one}
  + entry 2
- another entry</code></pre></section></div></body></html>
