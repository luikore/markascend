<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="chrome=1" http-equiv="X-UA-Compatible" /><title>Markascend</title><link href="style.css" rel="stylesheet" /><script src="scale.fix.js"></script><meta content="width=device-width, initial-scale=1, user-scalable=no" name="viewport" /><!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--></head><body><header><h1></h1></header><section><h3>Design principles<br></h3><br><ul><li>A simpler <i>Markdown</i> should be better.</li><li>Since a markup language usually need to process several different syntaces in one article, language composition becomes important in syntax design.</li><li>TeX macro syntax is nearly perfect for extending the language, but not very visual intuitive when there are too much backslashes and bracers.</li><li>Layout-based grammar (indentation sensitive) shows a cleaner way for language composition and cleaning up macros.</li></ul><br><br><br><h3>Inline elements<br></h3><i>italic</i><br><pre><code class="hilite">*italic*

</code></pre><b>bold</b><br><pre><code class="hilite">**bold**

</code></pre>Italic and bold elements can interpolate<br><pre><code class="hilite">***bold and italic*bold**

</code></pre><code class="hilite">code</code> suject to the same rule as in markdown, no escape chars<br><pre><code class="hilite">`code`
``to include "`", use more backticks as delimiter``
`` ` space before and after to disambig backtick number ``

</code></pre><code class="math">math</code>, inside which <code class="hilite">\\</code> and <code class="hilite">\$</code> are treated as atomic elements, no escape chars<br><pre><code class="hilite">$math$
$\\\$$ &lt;- the content is parsed to latex processer as '\\\$'
$\\$$ &lt;- NOTE this is a math elem with a pending dollar

</code></pre>Link:<br><pre><code class="hilite">url in lexical parens: [a](example.com/use/\\/for/backslash/and/\)/for/right/paren)
url in recursive braces: [a]{example.com/allow/{nested{braces}}/and/(parens)/in/url}
no need to escape backslashes in braces: [a]{file:\\\C:\windows}
link to anchor: [a](#anchor)

</code></pre>Footnotes:<br><pre><code class="hilite">[.](this is shown in footnote and replaced by a number)
[.*](this is shown in footnote and replaced by the acronym)

</code></pre>Using already defined footnote (&quot;one more dot to use&quot;):<br><pre><code class="hilite">[:1]
[:link by acronym]

</code></pre>Except math and code, inline elements can be nested.<br><br>By default, text starting with <code class="hilite">http://</code>, <code class="hilite">https://</code> or <code class="hilite">mailto://</code> will be auto-linked, you can change supported protocols or disable all with compile options.<br><br>NOTE: Not very different from markdown here, just less, math and footnotes added. Images are too complex for a simple syntax, it is made into a macro.<br><br><h3>Headers<br></h3><pre><code class="hilite">h1 title
h2#anchor-name title

</code></pre>NOTE: Anchors are disabled in sandbox mode.<br><h3>Lists<br></h3><br><code class="hilite">-</code> is the bullet for unordered list<br><pre><code class="hilite">- an entry
- another entry

</code></pre><code class="hilite">+</code> is the bullet for ordered list<br><pre><code class="hilite">+ entry 1
+ entry 2

</code></pre><h3>Quote<br></h3><br>Just one <code class="hilite">&gt;</code> is enough for a quote containing many lines (NOTE: use the similar rule as code block and allow quoter name?)<br><pre><code class="hilite">&gt; You
  can
  input
  new line
  on twitter
  now

</code></pre><h3>Escape characters<br></h3><pre><code class="hilite">\h3
\\
\$
\*
\[
\%
\@
\#
...

</code></pre>All HTML4 entities are supported<br><pre><code class="hilite">&amp;amp;
&amp;#2382;
&amp;#x003F;

</code></pre><h3>Built-in macros<br></h3><br>The following macros explains themselves:<br><pre><code class="hilite">\del{deleted}
\underline{underline}
\sub{subscript}
\sup{supscript}
\img{hello/a.png alt="an image" href="a.b.c"}

</code></pre>Unlike in <i>Mardown</i>, all html tags in <i>Markascend</i> are escaped. If you write<br><pre><code class="hilite">&lt;div&gt;&lt;/div&gt;

</code></pre>You get HTML like this<br><pre><code class="hilite"><div class="highlight"><pre><span class="ni">&amp;lt;</span>div<span class="ni">&amp;gt;&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
</pre></div></code></pre>To put HTML in, you can use the <code class="hilite">\html</code> macro<br><pre><code class="hilite">\html{&lt;hr&gt;}

</code></pre><i>Slim</i> is a template engine which makes html much cleaner:<br><pre><code class="hilite">\slim{a href="/" Home}

</code></pre>Note that with <code class="hilite">\slim</code>, you can embed a bunch of other template engines, or write ruby logic, or do all kinds of evil things:<br><pre><code class="hilite">\slim
  - 3.times do
    markdown:
      # h1 hello world
  sass:
    h1
      color: red
  coffee:
    alert "hello world"

</code></pre>To build a table from a CSV<br><pre><code class="hilite">\csv
  name,type
  "Ahri",Mage
  "Miss Fortune",DPS

</code></pre>A table from CSV, without header<br><pre><code class="hilite">\headless_csv
  "Ahri",Mage
  "Miss Fortune",DPS

</code></pre>For block-styled math<br><pre><code class="hilite">\latex
  \begin{align} \\
  &amp; \rm{MathJax}\ \LaTeX \ \rm{Example} \\ \\
  \end{align}

</code></pre><code class="hilite">\options</code> is a special macro. The content <i>YAML</i> is not processed by <i>Markascend</i>, but retrievable with API. This is designed for blogger generators: you can put metadata inside the document.<br><pre><code class="hilite">\options
  tags: [markascend readme]

</code></pre>To change default code syntax highliter (See <a href="#syn-hi-macros">below</a> for details]:<br><pre><code class="hilite">\hi(rb)
\hi(none)

</code></pre><h3>Notes on macros<br></h3><br>Macro name is case sensitive, starts with a word-character but not digit, and contains no symbols or punctuations. The rule expressed in (Onigmo) regexp is <code class="hilite">(?!\d)\w+</code>. For example, <code class="hilite">你2</code> is valid name, but <code class="hilite">2你</code> is invalid.<br><br>Macros can be of inline form (<code class="hilite">\macro{content}</code>) or block form (<code class="hilite">\macro</code> and the indented block in following lines is the content of the macro).<br><br>Inline macros can use some different delimiters for convinience, allowed ones are: <code class="hilite">\macro(content)</code> and <code class="hilite">\macro{content}</code>.<br><br>In the form <code class="hilite">\macro(content)</code>, the content is parsed by lexical rule. The parser handles and only handles 2 escape chars: <code class="hilite">\\</code> and <code class="hilite">\)</code>, very much like single quoted string in Ruby.<br>Example: <code class="hilite">\macro(\ and \\ are both single-backslash. nest: (\))</code><br><br>In the form <code class="hilite">\macro{content}</code>, you don&#39;t escape chars in the content, and can put in recursively nested braces. When you need to put an unmatched <code class="hilite">{</code> or <code class="hilite">}</code> in the content, use the previous form.<br>Example: <code class="hilite">\macro{\\ is two backslashes. nest: {}}</code><br><br>Design NOTE: There are actual very few symbols left for us... for example <code class="hilite">[]</code>, <code class="hilite">$$</code>, <code class="hilite">|</code> may confuse with link or math or code elements. Symbols like <code class="hilite">"</code>, <code class="hilite">'</code>, <code class="hilite">()</code>, <code class="hilite">&lt;&gt;</code> are not good either, because they are common when composing an article.<br><br>User NOTE:<br><ul><li>The parsing rules for <code class="hilite">(content)</code> and <code class="hilite">{content}</code> are the same as in links.</li><li>Only 1 block-style macro name is allowed inside a line.</li><li>The basic parsing unit is a line and a block, every parsing starts with this unit --- so don&#39;t hand-add space indentations to paragraphs, let css do it.</li></ul><br><h3>Charting macros<br></h3><br>You need to install <a href="http://graphviz.org/">graphviz</a> first.<br><br><pre><code class="hilite">\dot
  digraph G{
    main -&gt; parse;
  }

</code></pre><h3>Popular-company macros<br></h3><br>This is the transient part but provides some convienience. The list will change if some of them dies before <i>Markascend</i>.<br><br>To generate a twitter or weibo link<br><pre><code class="hilite">\twitter(@night_song)
\twitter(#HotS)
\weibo(@yavaeye)

</code></pre>To generate a wiki link (though wiki is an organization, not a company...)<br><pre><code class="hilite">\wiki{ruby(programing_language)}

</code></pre>Embed gist<br><pre><code class="hilite">\gist(12321)

</code></pre>Embed video (currently should recognize youtube, vimeo and niconico links, the size is a problem)<br><pre><code class="hilite">\video(500x400 http://www.youtube.com/watch?v=TGPvtlnwH6E)
\video(500x400 http://www.youtube.com/watch?v=TGPvtlnwH6E)
\video(500x400 http://www.youtube.com/watch?v=TGPvtlnwH6E)

</code></pre><h3 id="syn-hi-macros">Syntax hilite macros and code blocks<br></h3><br>Inline code can also have syntax hiliter<br><br><pre><code class="hilite">\hi(rb)`str.size` in ruby is equivalent to \hi(objc)`str.length` in objc
|
  this part is also hilited in objc
\hi(none)`\hi(none)` removes hilite state in document
|
  this part also has no syntax hilite

</code></pre>To specify syntax in block form (this won&#39;t change default syntax):<br><pre><code class="hilite">|rb
  puts 'hello world'

</code></pre><h3>Combining macro blocks, lists and quotes<br></h3><br>Lists and quotes are parsed as recursive block elements.<br>If the inside contains macros, need to indent more for the content of the macro:<br><pre><code class="hilite">&gt; Though the \music macro..
    1232. 1232. 1232.
  is not defined.

</code></pre>Another nesting example:<br><pre><code class="hilite">- an entry
  contains an ordered list
  + entry \latex
      \mathbb{one}
  + entry 2
- another entry
</code></pre></section></body></html>
